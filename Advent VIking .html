<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>VikingLuck – Adventskalender</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg-page-top: #f5f7fb;
      --bg-page-bottom: #dfe7f5;
      --bg-panel: rgba(255,255,255,0.88);
      --bg-card: rgba(255,255,255,0.9);
      --bg-card-open: #faf5e6;
      --bg-locked: #d0d6e4;
      --gold: #c99a2f;
      --accent: #2a6fb0;
      --border-soft: rgba(0,0,0,0.09);
      --text-main: #1b2333;
      --text-muted: #616c80;
      --shadow-soft: 0 18px 40px rgba(15,28,58,0.25);
      --radius: 18px;
    }

    body {
      margin:0;
      padding:0;
      font-family: system-ui, sans-serif;
      background:
        radial-gradient(circle at 10% 0%, rgba(255,255,255,0.9) 0, rgba(250,250,255,0.7) 22%, rgba(223,231,245,0.9) 55%, #c8d4ec 100%);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }

    .page { width:100%; max-width:1200px; margin:auto; }

    .header { text-align:center; margin-bottom:24px; }

    .logo {
      font-family:"Times New Roman", serif;
      font-size:1.5rem;
      text-transform:uppercase;
      letter-spacing:0.25em;
      color:var(--gold);
    }
    .title {
      font-family:"Times New Roman", serif;
      font-size:2.4rem;
      letter-spacing:0.12em;
      color:#1b2230;
      text-transform:uppercase;
    }

    .subtitle {
      font-size:0.95rem;
      color:var(--text-muted);
      max-width:520px;
      margin:0 auto;
    }

    .calendar-wrapper {
      background:var(--bg-panel);
      border-radius:26px;
      padding:24px;
      box-shadow:var(--shadow-soft);
      border:1px solid rgba(255,255,255,0.9);
    }

    .calendar-top-bar {
      display:flex;
      justify-content:space-between;
      margin-bottom:16px;
      flex-wrap:wrap;
      gap:10px;
    }

    .calendar-info { font-size:0.85rem; color:var(--text-muted); }
    .calendar-info strong { color:var(--accent); }
    .calendar-info .highlight { color:var(--gold); font-weight:600; }

    .legend { font-size:0.8rem; color:var(--text-muted); display:flex; gap:12px; }

    .legend-dot {
      width:10px; height:10px; border-radius:50%;
    }
    .legend-dot--open { background:var(--gold); }
    .legend-dot--today { background:var(--accent); }
    .legend-dot--locked { background:var(--bg-locked); border:1px solid var(--border-soft); }

    .calendar-grid {
      display:grid;
      grid-template-columns:repeat(6,1fr);
      gap:14px;
    }

    @media(max-width:900px){ .calendar-grid{ grid-template-columns:repeat(4,1fr);} }
    @media(max-width:640px){ .calendar-grid{ grid-template-columns:repeat(3,1fr);} }

    .day {
      background:var(--bg-card);
      border-radius:var(--radius);
      border:1px solid var(--border-soft);
      padding:14px;
      cursor:pointer;
      min-height:90px;
      position:relative;
      text-align:left;
      transition:0.15s;
    }

    .day:hover {
      transform:translateY(-2px);
      box-shadow:0 10px 24px rgba(129,144,180,0.55);
      border-color:rgba(42,111,176,0.5);
    }

    .day-number {
      font-family:"Times New Roman", serif;
      font-size:1.5rem;
      font-weight:700;
      text-transform:uppercase;
      color:#1b2230;
    }

    .day-label {
      margin-top:4px;
      font-size:0.8rem;
      color:var(--text-muted);
    }

    .day--locked {
      background:linear-gradient(145deg,#d0d6e4,#c3cad9);
      border-color:rgba(148,156,175,0.8);
      cursor:default;
    }

    .day--open {
      background:#faf5e6;
      border-color:var(--gold);
      box-shadow:0 0 0 1px rgba(201,154,47,0.4), var(--shadow-soft);
    }

    .day--open .day-number { color:var(--gold); }

    .day--open:after {
      content:"Geöffnet";
      position:absolute;
      top:8px; right:10px;
      font-size:0.6rem;
      color:var(--gold);
      text-transform:uppercase;
    }

    .day--locked:before {
      content:"Gesperrt";
      position:absolute;
      top:10px; right:10px;
      font-size:0.6rem;
      color:#6f788b;
    }

    .day--today {
      border-color:var(--accent);
      background:linear-gradient(135deg,#ffffff,#e5f1ff);
    }

    .day-ribbon {
      display:none;
      position:absolute;
      left:-32px; top:14px;
      width:92px;
      background:linear-gradient(90deg,#2a6fb0,#58a2e6);
      padding:2px 0;
      font-size:0.55rem;
      color:#fff;
      text-transform:uppercase;
      transform:rotate(-38deg);
      text-align:center;
    }
    .day--today .day-ribbon { display:block; }

    /* Modal */
    .modal-backdrop {
      position:fixed;
      inset:0;
      background:rgba(7,15,31,0.75);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:40;
    }
    .modal-backdrop--visible { display:flex; }

    .modal {
      max-width:480px;
      width:100%;
      background:#ffffff;
      border-radius:20px;
      padding:22px;
      border:1px solid rgba(201,154,47,0.6);
      box-shadow:0 20px 45px rgba(10,16,32,0.65);
    }

    .modal-close {
      border:none;
      background:transparent;
      font-size:1.1rem;
      cursor:pointer;
      color:var(--text-muted);
    }

    .modal-title {
      font-family:"Times New Roman", serif;
      font-size:1.4rem;
      color:var(--gold);
      text-transform:uppercase;
    }

    .btn-primary {
      padding:7px 16px;
      background:linear-gradient(135deg,#f4dc8d,#c99a2f);
      border:none;
      border-radius:999px;
      text-transform:uppercase;
      font-size:0.8rem;
      cursor:pointer;
      color:#251d0b;
      letter-spacing:0.12em;
    }
  </style>
</head>

<body>
  <main class="page">
    <header class="header">
      <div class="logo">VikingLuck</div>
      <h1 class="title">Adventskalender</h1>
      <p class="subtitle">
        Start am 20. November – jeden Tag öffnet sich genau ein Türchen.
      </p>
    </header>

    <section class="calendar-wrapper">
      <div class="calendar-top-bar">
        <div class="calendar-info">
          Heute: <strong id="todayLabel"></strong>
          <span id="calendarStatus"></span>
        </div>

        <div class="legend">
          <span><span class="legend-dot legend-dot--open"></span> Geöffnet</span>
          <span><span class="legend-dot legend-dot--today"></span> Heute</span>
          <span><span class="legend-dot legend-dot--locked"></span> Gesperrt</span>
        </div>
      </div>

      <div class="calendar-grid" id="calendarGrid"></div>
    </section>
  </main>

  <!-- MODAL -->
  <div class="modal-backdrop" id="modalBackdrop">
    <div class="modal">
      <button class="modal-close" id="modalClose">×</button>
      <div id="modalDayLabel" style="font-size:0.8rem;color:#616c80;margin-bottom:4px;"></div>
      <div class="modal-title" id="modalTitle"></div>
      <div id="modalBody" style="margin:12px 0; font-size:0.9rem;"></div>
      <div id="modalHighlight" style="margin-top:8px;font-size:0.8rem;color:#6b5318;"></div>
      <button class="btn-primary" id="modalCta">Zum Casino</button>
    </div>
  </div>

  <script>
    /* === Startdatum === */
    const START = new Date(2025, 10, 20); // 20.11.2025
    START.setHours(0,0,0,0);

    function today() {
      const d = new Date();
      d.setHours(0,0,0,0);
      return d;
    }

    function currentIndex() {
      const diff = (today() - START) / 86400000;
      return Math.floor(diff) + 1;
    }

    /* === Inhalte (versteckt bis zum Tag) === */
    const offers = [
      {day:1,title:"Startbonus",offer:"Individuell angepasster Einzahlungsbonus.",highlight:"VIP Manager kontaktiert dich."},
      {day:2,title:"Freispiele",offer:"Freispiele auf ausgewählte Slots.",highlight:"Direkt nach Aktivierung spielbar."},
      {day:3,title:"Cashback",offer:"Tägliches Verlust-Cashback möglich.",highlight:"Vor Spielstart anmelden."},
      {day:4,title:"Highroller Bonus",offer:"Starker Reload für größere Sessions.",highlight:"Nur für klare Limits gedacht."},
      {day:5,title:"Feature Runden",offer:"FS auf Feature Slots.",highlight:"Hohe Volatilität beachten."},
      {day:6,title:"Direktor Überraschung",offer:"Direktor überprüft dein Konto.",highlight:"Mögliche Anpassungen."},
      {day:7,title:"Wochenend-Schutz",offer:"Mehrere Tage Cashback.",highlight:"Nur auf vereinbarte Einsätze."},
      {day:8,title:"Session Reload",offer:"Mehrere kleine Sessions abgesichert.",highlight:"Trenne deine Sessions sauber."},
      {day:9,title:"Neuer Slot Test",offer:"FS auf neuen Slot.",highlight:"Gib dem VIP Manager Feedback."},
      {day:10,title:"Tischspiele Cashback",offer:"Cashback für Live-Tische.",highlight:"Welche Tische zählen klären."},
      {day:11,title:"Sportwetten Reload",offer:"Exklusiver Sportsbook Boost.",highlight:"Quoten & Märkte prüfen."},
      {day:12,title:"VIP Status Check",offer:"Status & Limits Prüfung.",highlight:"Ziele mit VIP Manager besprechen."},
      {day:13,title:"Monatsmitte Reload",offer:"Balance-Bonus für Mitte.",highlight:"Einsatzplan vorher festlegen."},
      {day:14,title:"Klassiker Spins",offer:"FS auf bekannten Slots.",highlight:"Ideal für entspannte Sessions."},
      {day:15,title:"Halbzeit Cashback",offer:"Zwischenbilanz-Anpassung.",highlight:"Offen kommunizieren."},
      {day:16,title:"Abend Session Bonus",offer:"Nur für Abendzeit gültig.",highlight:"Start-/Endzeit definieren."},
      {day:17,title:"High Volatility FS",offer:"FS auf volatile Slots.",highlight:"Nur für starke Nerven."},
      {day:18,title:"Live Casino Schutz",offer:"Cashback für Tischspiele.",highlight:"Vorher anmelden."},
      {day:19,title:"VIP Reload",offer:"Exklusiver VIP Bonus.",highlight:"Konto wird geprüft."},
      {day:20,title:"Auszahlungsfokus",offer:"Schnellere Auszahlungen.",highlight:"Vorab informieren."},
      {day:21,title:"Vorweihnachtsboost",offer:"Kontrollierter Reload.",highlight:"Grenzen definieren."},
      {day:22,title:"Risikopolster",offer:"Erhöhter Cashback.",highlight:"Nur bei klarem Limit."},
      {day:23,title:"Weihnachts Slots",offer:"FS auf Xmas Slots.",highlight:"Entspannt nutzen."},
      {
        day:24,
        title:"500 € Cash Special",
        offer:"Bis zu 500 € Cash – keine Umsatzbedingungen.",
        highlight:"Höhe wird individuell festgelegt."
      }
    ];

    const grid = document.getElementById("calendarGrid");
    const modalBackdrop = document.getElementById("modalBackdrop");
    const modalClose = document.getElementById("modalClose");

    function openModal(d) {
      const idx = currentIndex();
      if (d.day > idx) return;

      document.getElementById("modalDayLabel").textContent = `Tür ${String(d.day).padStart(2,"0")}`;
      document.getElementById("modalTitle").textContent = d.title;
      document.getElementById("modalBody").innerHTML = d.offer;
      document.getElementById("modalHighlight").textContent = d.highlight;
      modalBackdrop.classList.add("modal-backdrop--visible");

      localStorage.setItem("VLopened", JSON.stringify([...new Set([...getOpened(), d.day])]));
    }

    function closeModal() {
      modalBackdrop.classList.remove("modal-backdrop--visible");
    }

    modalClose.onclick = closeModal;
    modalBackdrop.onclick = e => { if(e.target===modalBackdrop) closeModal(); }

    function getOpened() {
      try { return JSON.parse(localStorage.getItem("VLopened")) || []; }
      catch { return []; }
    }

    function render() {
      const idx = currentIndex();
      document.getElementById("todayLabel").textContent = formatDate(today());
      document.getElementById("calendarStatus").innerHTML =
        ` – Tür <span class="highlight">${idx}</span> ist freigeschaltet.`;

      const opened = getOpened();
      grid.innerHTML = "";

      offers.forEach(offer => {
        const c = document.createElement("button");
        c.className = "day";
        c.dataset.day = offer.day;

        const unlocked = offer.day <= idx;
        const isOpen = opened.includes(offer.day);
        const isToday = offer.day === idx;

        if (!unlocked) c.classList.add("day--locked");
        if (isOpen) c.classList.add("day--open");
        if (isToday) c.classList.add("day--today");

        c.innerHTML = `
          <div class="day-number">${String(offer.day).padStart(2,"0")}</div>
          <div class="day-label">Überraschung</div>
          <div class="day-ribbon">Heute</div>
        `;

        c.onclick = () => {
          if (!unlocked) return;
          openModal(offer);
          c.classList.add("day--open");
        };

        grid.appendChild(c);
      });
    }

    function formatDate(d) {
      const m = ["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"];
      return `${d.getDate()}. ${m[d.getMonth()]} ${d.getFullYear()}`;
    }

    render();
  </script>

</body>
</html>
